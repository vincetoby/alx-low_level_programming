#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

// Function to check if a command is in PATH
int is_command_in_path(const char *command) {
    char *path = getenv("PATH");
    if (path == NULL) {
        fprintf(stderr, "PATH environment variable not set.\n");
        return 0; // PATH not set
    }

    // Tokenize the PATH variable using ":" as the delimiter
    char *token = strtok(path, ":");
    while (token != NULL) {
        // Construct the full path to the command within the directory
        char full_path[1024]; // Adjust the buffer size as needed
        snprintf(full_path, sizeof(full_path), "%s/%s", token, command);

        // Check if the file is executable
        if (access(full_path, X_OK) == 0) {
            return 1; // Command found and executable
        }

        // Move to the next directory in PATH
        token = strtok(NULL, ":");
    }

    return 0; // Command not found in PATH
}

int main() {
    const char *command = "cd";

    if (is_command_in_path(command)) {
        printf("%s is available in PATH.\n", command);
    } else {
        printf("%s is not found in PATH.\n", command);
    }

    return 0;
}

